<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>EC_GROUP_new</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#return_values">RETURN VALUES</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#history">HISTORY</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>EC_GROUP_get_ecparameters,
EC_GROUP_get_ecpkparameters,
EC_GROUP_new_from_params,
EC_GROUP_new_from_ecparameters,
EC_GROUP_new_from_ecpkparameters,
EC_GROUP_new,
EC_GROUP_free,
EC_GROUP_clear_free,
EC_GROUP_new_curve_GFp,
EC_GROUP_new_curve_GF2m,
EC_GROUP_new_by_curve_name_ex,
EC_GROUP_new_by_curve_name,
EC_GROUP_set_curve,
EC_GROUP_get_curve,
EC_GROUP_set_curve_GFp,
EC_GROUP_get_curve_GFp,
EC_GROUP_set_curve_GF2m,
EC_GROUP_get_curve_GF2m,
EC_get_builtin_curves,
OSSL_EC_curve_nid2name -
Functions for creating and destroying EC_GROUP objects</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 <span class="comment">#include &lt;openssl/ec.h&gt;</span>
</pre>
<pre>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_from_params</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">params</span><span class="operator">[]</span><span class="operator">,</span>
                                    <span class="variable">OSSL_LIB_CTX</span> <span class="variable">*libctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*propq</span><span class="operator">);</span>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_from_ecparameters</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">ECPARAMETERS</span> <span class="variable">*params</span><span class="operator">);</span>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_from_ecpkparameters</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">ECPKPARAMETERS</span> <span class="variable">*params</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EC_GROUP_free</span><span class="operator">(</span><span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_curve_GFp</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span>
                                  <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_curve_GF2m</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span>
                                   <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_by_curve_name_ex</span><span class="operator">(</span><span class="variable">OSSL_LIB_CTX</span> <span class="variable">*libctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*propq</span><span class="operator">,</span>
                                         <span class="keyword">int</span> <span class="variable">nid</span><span class="operator">);</span>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new_by_curve_name</span><span class="operator">(</span><span class="keyword">int</span> <span class="variable">nid</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">EC_GROUP_set_curve</span><span class="operator">(</span><span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span>
                        <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EC_GROUP_get_curve</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span>
                        <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">ECPARAMETERS</span> <span class="variable">*EC_GROUP_get_ecparameters</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span>
                                         <span class="variable">ECPARAMETERS</span> <span class="variable">*params</span><span class="operator">);</span>
 <span class="variable">ECPKPARAMETERS</span> <span class="variable">*EC_GROUP_get_ecpkparameters</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span>
                                             <span class="variable">ECPKPARAMETERS</span> <span class="variable">*params</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">size_t</span> <span class="variable">EC_get_builtin_curves</span><span class="operator">(</span><span class="variable">EC_builtin_curve</span> <span class="variable">*r</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">nitems</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*OSSL_EC_curve_nid2name</span><span class="operator">(</span><span class="keyword">int</span> <span class="variable">nid</span><span class="operator">);</span>
</pre>
<p>The following functions have been deprecated since OpenSSL 3.0, and can be
hidden entirely by defining <strong>OPENSSL_API_COMPAT</strong> with a suitable version value,
see <em>openssl_user_macros(7)</em>:</p>
<pre>
 <span class="variable">EC_GROUP</span> <span class="variable">*EC_GROUP_new</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EC_METHOD</span> <span class="variable">*meth</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EC_GROUP_clear_free</span><span class="operator">(</span><span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">EC_GROUP_set_curve_GFp</span><span class="operator">(</span><span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span>
                            <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EC_GROUP_get_curve_GFp</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span>
                            <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EC_GROUP_set_curve_GF2m</span><span class="operator">(</span><span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span>
                             <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EC_GROUP_get_curve_GF2m</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EC_GROUP</span> <span class="variable">*group</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*p</span><span class="operator">,</span>
                             <span class="variable">BIGNUM</span> <span class="variable">*a</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="variable">*b</span><span class="operator">,</span> <span class="variable">BN_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Within the library there are two forms of elliptic curve that are of interest.
The first form is those defined over the prime field Fp. The elements of Fp are
the integers 0 to p-1, where p is a prime number. This gives us a revised
elliptic curve equation as follows:</p>
<p>y^2 mod p = x^3 +ax + b mod p</p>
<p>The second form is those defined over a binary field F2^m where the elements of
the field are integers of length at most m bits. For this form the elliptic
curve equation is modified to:</p>
<p>y^2 + xy = x^3 + ax^2 + b (where b != 0)</p>
<p>Operations in a binary field are performed relative to an
<strong>irreducible polynomial</strong>. All such curves with OpenSSL use a trinomial or a
pentanomial for this parameter.</p>
<p>Although deprecated since OpenSSL 3.0 and should no longer be used,
a new curve can be constructed by calling <code>EC_GROUP_new()</code>, using the
implementation provided by <em>meth</em> (see <em>EC_GFp_simple_method(3)</em>) and
associated with the library context <em>ctx</em> (see <em>OSSL_LIB_CTX(3)</em>).
The <em>ctx</em> parameter may be NULL in which case the default library context is
used.
It is then necessary to call <code>EC_GROUP_set_curve()</code> to set the curve parameters.
Applications should instead use one of the other EC_GROUP_new_* constructors.</p>
<p><code>EC_GROUP_new_from_params()</code> creates a group with parameters specified by <em>params</em>.
The library context <em>libctx</em> (see <em>OSSL_LIB_CTX(3)</em>) and property query string
<em>propq</em> are used to fetch algorithms from providers.
<em>params</em> may be either a list of explicit params or a named group,
The values for <em>ctx</em> and <em>propq</em> may be NULL.
The <em>params</em> that can be used are described in
<em><strong>EVP_PKEY-EC</strong>(7)</em>.</p>
<p><code>EC_GROUP_new_from_ecparameters()</code> will create a group from the
specified <em>params</em> and
<code>EC_GROUP_new_from_ecpkparameters()</code> will create a group from the specific PK
<em>params</em>.</p>
<p><code>EC_GROUP_set_curve()</code> sets the curve parameters <em>p</em>, <em>a</em> and <em>b</em>. For a curve
over Fp <em>p</em> is the prime for the field. For a curve over F2^m <em>p</em> represents
the irreducible polynomial - each bit represents a term in the polynomial.
Therefore, there will either be three or five bits set dependent on whether the
polynomial is a trinomial or a pentanomial.
In either case, <em>a</em> and <em>b</em> represents the coefficients a and b from the
relevant equation introduced above.</p>
<p><code>EC_group_get_curve()</code> obtains the previously set curve parameters.</p>
<p><code>EC_GROUP_set_curve_GFp()</code> and EC_GROUP_set_curve_GF2m() are synonyms for
<code>EC_GROUP_set_curve()</code>. They are defined for backwards compatibility only and
should not be used.</p>
<p><code>EC_GROUP_get_curve_GFp()</code> and EC_GROUP_get_curve_GF2m() are synonyms for
<code>EC_GROUP_get_curve()</code>. They are defined for backwards compatibility only and
should not be used.</p>
<p>The functions <code>EC_GROUP_new_curve_GFp()</code> and EC_GROUP_new_curve_GF2m() are
shortcuts for calling <code>EC_GROUP_new()</code> and then the <code>EC_GROUP_set_curve()</code> function.
An appropriate default implementation method will be used.</p>
<p>Whilst the library can be used to create any curve using the functions described
above, there are also a number of predefined curves that are available. In order
to obtain a list of all of the predefined curves, call the function
<code>EC_get_builtin_curves()</code>. The parameter <em>r</em> should be an array of
EC_builtin_curve structures of size <em>nitems</em>. The function will populate the
<em>r</em> array with information about the built-in curves. If <em>nitems</em> is less than
the total number of curves available, then the first <em>nitems</em> curves will be
returned. Otherwise the total number of curves will be provided. The return
value is the total number of curves available (whether that number has been
populated in <em>r</em> or not). Passing a NULL <em>r</em>, or setting <em>nitems</em> to 0 will
do nothing other than return the total number of curves available.
The EC_builtin_curve structure is defined as follows:</p>
<pre>
 <span class="variable">typedef</span> <span class="variable">struct</span> <span class="operator">{</span>
        <span class="keyword">int</span> <span class="variable">nid</span><span class="operator">;</span>
        <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*comment</span><span class="operator">;</span>
        <span class="operator">}</span> <span class="variable">EC_builtin_curve</span><span class="operator">;</span>
</pre>
<p>Each EC_builtin_curve item has a unique integer id (<em>nid</em>), and a human
readable comment string describing the curve.</p>
<p>In order to construct a built-in curve use the function
<code>EC_GROUP_new_by_curve_name_ex()</code> and provide the <em>nid</em> of the curve to
be constructed, the associated library context to be used in <em>ctx</em> (see
<em>OSSL_LIB_CTX(3)</em>) and any property query string in <em>propq</em>. The <em>ctx</em> value
may be NULL in which case the default library context is used. The <em>propq</em>
value may also be NULL.</p>
<p><code>EC_GROUP_new_by_curve_name()</code> is the same as
<code>EC_GROUP_new_by_curve_name_ex()</code> except that the default library context
is always used along with a NULL property query string.</p>
<p><code>EC_GROUP_free()</code> frees the memory associated with the EC_GROUP.
If <em>group</em> is NULL nothing is done.</p>
<p><code>EC_GROUP_clear_free()</code> is deprecated: it was meant to destroy any sensitive data
held within the EC_GROUP and then free its memory, but since all the data stored
in the EC_GROUP is public anyway, this function is unnecessary.
Its use can be safely replaced with <code>EC_GROUP_free()</code>.
If <em>group</em> is NULL nothing is done.</p>
<p>OSSL_EC_curve_nid2name() converts a curve <em>nid</em> into the corresponding name.</p>
<p>
</p>
<hr />
<h1><a name="return_values">RETURN VALUES</a></h1>
<p>All EC_GROUP_new* functions return a pointer to the newly constructed group, or
NULL on error.</p>
<p><code>EC_get_builtin_curves()</code> returns the number of built-in curves that are
available.</p>
<p><code>EC_GROUP_set_curve_GFp()</code>, <code>EC_GROUP_get_curve_GFp()</code>, EC_GROUP_set_curve_GF2m(),
EC_GROUP_get_curve_GF2m() return 1 on success or 0 on error.</p>
<p>OSSL_EC_curve_nid2name() returns a character string constant, or NULL on error.</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><em>crypto(7)</em>, <em>EC_GROUP_copy(3)</em>,
<em>EC_POINT_new(3)</em>, <em>EC_POINT_add(3)</em>, <em>EC_KEY_new(3)</em>,
<em>EC_GFp_simple_method(3)</em>, <em>d2i_ECPKParameters(3)</em>,
<em>OSSL_LIB_CTX(3)</em>, <em>EVP_PKEY-EC(7)</em></p>
<p>
</p>
<hr />
<h1><a name="history">HISTORY</a></h1>
<ul>
<li>
<p><code>EC_GROUP_new()</code> was deprecated in OpenSSL 3.0.</p>
<p><code>EC_GROUP_new_by_curve_name_ex()</code> and <code>EC_GROUP_new_from_params()</code> were
added in OpenSSL 3.0.</p>
</li>
<li>
<p><code>EC_GROUP_clear_free()</code> was deprecated in OpenSSL 3.0; use <code>EC_GROUP_free()</code>
instead.</p>
</li>
<li>
<pre>
 <span class="variable">EC_GROUP_set_curve_GFp</span><span class="operator">(),</span> <span class="variable">EC_GROUP_get_curve_GFp</span><span class="operator">(),</span>
 <span class="variable">EC_GROUP_set_curve_GF2m</span><span class="operator">()</span> <span class="keyword">and</span> <span class="variable">EC_GROUP_get_curve_GF2m</span><span class="operator">()</span> <span class="variable">were</span> <span class="variable">deprecated</span> <span class="variable">in</span>
 <span class="variable">OpenSSL</span> <span class="number">3.0</span><span class="operator">;</span> <span class="keyword">use</span> <span class="variable">EC_GROUP_set_curve</span><span class="operator">()</span> <span class="keyword">and</span> <span class="variable">EC_GROUP_get_curve</span><span class="operator">()</span> <span class="variable">instead</span><span class="operator">.</span>
</pre>
</li>
</ul>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright 2013-2021 The OpenSSL Project Authors. All Rights Reserved.</p>
<p>Licensed under the Apache License 2.0 (the &quot;License&quot;).  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file LICENSE in the source distribution or at
<a href="https://www.openssl.org/source/license.html">https://www.openssl.org/source/license.html</a>.</p>

</body>

</html>
