<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>OSSL_PARAM_int</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#return_values">RETURN VALUES</a></li>
	<li><a href="#notes">NOTES</a></li>
	<li><a href="#examples">EXAMPLES</a></li>
	<ul>

		<li><a href="#example_1">Example 1</a></li>
		<li><a href="#example_2">Example 2</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#history">HISTORY</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>OSSL_PARAM_double, OSSL_PARAM_int, OSSL_PARAM_int32, OSSL_PARAM_int64,
OSSL_PARAM_long, OSSL_PARAM_size_t, OSSL_PARAM_time_t, OSSL_PARAM_uint,
OSSL_PARAM_uint32, OSSL_PARAM_uint64, OSSL_PARAM_ulong, OSSL_PARAM_BN,
OSSL_PARAM_utf8_string, OSSL_PARAM_octet_string, OSSL_PARAM_utf8_ptr,
OSSL_PARAM_octet_ptr,
OSSL_PARAM_END, OSSL_PARAM_DEFN,
OSSL_PARAM_construct_double, OSSL_PARAM_construct_int,
OSSL_PARAM_construct_int32, OSSL_PARAM_construct_int64,
OSSL_PARAM_construct_long, OSSL_PARAM_construct_size_t,
OSSL_PARAM_construct_time_t, OSSL_PARAM_construct_uint,
OSSL_PARAM_construct_uint32, OSSL_PARAM_construct_uint64,
OSSL_PARAM_construct_ulong, OSSL_PARAM_construct_BN,
OSSL_PARAM_construct_utf8_string, OSSL_PARAM_construct_utf8_ptr,
OSSL_PARAM_construct_octet_string, OSSL_PARAM_construct_octet_ptr,
OSSL_PARAM_construct_end,
OSSL_PARAM_locate, OSSL_PARAM_locate_const,
OSSL_PARAM_get_double, OSSL_PARAM_get_int, OSSL_PARAM_get_int32,
OSSL_PARAM_get_int64, OSSL_PARAM_get_long, OSSL_PARAM_get_size_t,
OSSL_PARAM_get_time_t, OSSL_PARAM_get_uint, OSSL_PARAM_get_uint32,
OSSL_PARAM_get_uint64, OSSL_PARAM_get_ulong, OSSL_PARAM_get_BN,
OSSL_PARAM_get_utf8_string, OSSL_PARAM_get_octet_string,
OSSL_PARAM_get_utf8_ptr, OSSL_PARAM_get_octet_ptr,
OSSL_PARAM_get_utf8_string_ptr, OSSL_PARAM_get_octet_string_ptr,
OSSL_PARAM_set_double, OSSL_PARAM_set_int, OSSL_PARAM_set_int32,
OSSL_PARAM_set_int64, OSSL_PARAM_set_long, OSSL_PARAM_set_size_t,
OSSL_PARAM_set_time_t, OSSL_PARAM_set_uint, OSSL_PARAM_set_uint32,
OSSL_PARAM_set_uint64, OSSL_PARAM_set_ulong, OSSL_PARAM_set_BN,
OSSL_PARAM_set_utf8_string, OSSL_PARAM_set_octet_string,
OSSL_PARAM_set_utf8_ptr, OSSL_PARAM_set_octet_ptr,
OSSL_PARAM_UNMODIFIED, OSSL_PARAM_modified, OSSL_PARAM_set_all_unmodified
- OSSL_PARAM helpers</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 <span class="comment">#include &lt;openssl/params.h&gt;</span>
</pre>
<pre>
 /*
  * TYPE in function names is one of:
  * double, int, int32, int64, long, size_t, time_t, uint, uint32, uint64, ulong
  * Corresponding TYPE in function arguments is one of:
  * double, int, int32_t, int64_t, long, size_t, time_t, unsigned int, uint32_t,
  * uint64_t, unsigned long
  */</pre>
<pre>
 <span class="comment">#define OSSL_PARAM_TYPE(key, address)</span>
 <span class="comment">#define OSSL_PARAM_BN(key, address, size)</span>
 <span class="comment">#define OSSL_PARAM_utf8_string(key, address, size)</span>
 <span class="comment">#define OSSL_PARAM_octet_string(key, address, size)</span>
 <span class="comment">#define OSSL_PARAM_utf8_ptr(key, address, size)</span>
 <span class="comment">#define OSSL_PARAM_octet_ptr(key, address, size)</span>
 <span class="comment">#define OSSL_PARAM_END</span>
</pre>
<pre>
 <span class="comment">#define OSSL_PARAM_UNMODIFIED</span>
</pre>
<pre>
 <span class="comment">#define OSSL_PARAM_DEFN(key, type, addr, sz)    \</span>
    <span class="operator">{</span> <span class="operator">(</span><span class="variable">key</span><span class="operator">),</span> <span class="operator">(</span><span class="variable">type</span><span class="operator">),</span> <span class="operator">(</span><span class="variable">addr</span><span class="operator">),</span> <span class="operator">(</span><span class="variable">sz</span><span class="operator">),</span> <span class="variable">OSSL_PARAM_UNMODIFIED</span> <span class="operator">}</span>
</pre>
<pre>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_TYPE</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">,</span> <span class="variable">TYPE</span> <span class="variable">*buf</span><span class="operator">);</span>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_BN</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">*buf</span><span class="operator">,</span>
                                    <span class="variable">size_t</span> <span class="variable">bsize</span><span class="operator">);</span>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_utf8_string</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">,</span> <span class="variable">char</span> <span class="variable">*buf</span><span class="operator">,</span>
                                             <span class="variable">size_t</span> <span class="variable">bsize</span><span class="operator">);</span>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_octet_string</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">,</span> <span class="variable">void</span> <span class="variable">*buf</span><span class="operator">,</span>
                                              <span class="variable">size_t</span> <span class="variable">bsize</span><span class="operator">);</span>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_utf8_ptr</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">,</span> <span class="variable">char</span> <span class="operator">**</span><span class="variable">buf</span><span class="operator">,</span>
                                          <span class="variable">size_t</span> <span class="variable">bsize</span><span class="operator">);</span>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_octet_ptr</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">,</span> <span class="variable">void</span> <span class="operator">**</span><span class="variable">buf</span><span class="operator">,</span>
                                           <span class="variable">size_t</span> <span class="variable">bsize</span><span class="operator">);</span>
 <span class="variable">OSSL_PARAM</span> <span class="variable">OSSL_PARAM_construct_end</span><span class="operator">(</span><span class="variable">void</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">OSSL_PARAM</span> <span class="variable">*OSSL_PARAM_locate</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*array</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*OSSL_PARAM_locate_const</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*array</span><span class="operator">,</span>
                                           <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*key</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_TYPE</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">TYPE</span> <span class="variable">*val</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_set_TYPE</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">TYPE</span> <span class="variable">val</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_BN</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">BIGNUM</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_set_BN</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">BIGNUM</span> <span class="variable">*val</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_utf8_string</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">char</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">,</span>
                                <span class="variable">size_t</span> <span class="variable">max_len</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_set_utf8_string</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*val</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_octet_string</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">void</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">,</span>
                                 <span class="variable">size_t</span> <span class="variable">max_len</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">*used_len</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_set_octet_string</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">void</span> <span class="variable">*val</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">len</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_utf8_ptr</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_set_utf8_ptr</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*val</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_octet_ptr</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">void</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">,</span>
                              <span class="variable">size_t</span> <span class="variable">*used_len</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_set_octet_ptr</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">void</span> <span class="variable">*val</span><span class="operator">,</span>
                              <span class="variable">size_t</span> <span class="variable">used_len</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_utf8_string_ptr</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_get_octet_string_ptr</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">void</span> <span class="operator">**</span><span class="variable">val</span><span class="operator">,</span>
                                     <span class="variable">size_t</span> <span class="variable">*used_len</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">OSSL_PARAM_modified</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*param</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">OSSL_PARAM_set_all_unmodified</span><span class="operator">(</span><span class="variable">OSSL_PARAM</span> <span class="variable">*params</span><span class="operator">);</span>
</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>A collection of utility functions that simplify and add type safety to the
<em>OSSL_PARAM(3)</em> arrays.  The following <strong><em>TYPE</em></strong> names are supported:</p>
<ul>
<li>
<p>double</p>
</li>
<li>
<p>int</p>
</li>
<li>
<p>int32 (int32_t)</p>
</li>
<li>
<p>int64 (int64_t)</p>
</li>
<li>
<p>long int (long)</p>
</li>
<li>
<p>time_t</p>
</li>
<li>
<p>size_t</p>
</li>
<li>
<p>uint32 (uint32_t)</p>
</li>
<li>
<p>uint64 (uint64_t)</p>
</li>
<li>
<p>unsigned int (uint)</p>
</li>
<li>
<p>unsigned long int (ulong)</p>
</li>
</ul>
<p><code>OSSL_PARAM_TYPE()</code> are a series of macros designed to assist initialising an
array of <em>OSSL_PARAM(3)</em> structures.
Each of these macros defines a parameter of the specified <strong><em>TYPE</em></strong> with the
provided <em>key</em> and parameter variable <em>address</em>.</p>
<p>OSSL_PARAM_utf8_string(), <code>OSSL_PARAM_octet_string()</code>, OSSL_PARAM_utf8_ptr(),
<code>OSSL_PARAM_octet_ptr()</code>, <code>OSSL_PARAM_BN()</code> are macros that provide support
for defining UTF8 strings, OCTET strings and big numbers.
A parameter with name <em>key</em> is defined.
The storage for this parameter is at <em>address</em> and is of <em>size</em> bytes.</p>
<p>OSSL_PARAM_END provides an end of parameter list marker.
This should terminate all <em>OSSL_PARAM(3)</em> arrays.</p>
<p>The <code>OSSL_PARAM_DEFN()</code> macro provides the ability to construct a single
<em>OSSL_PARAM(3)</em> (typically used in the construction of <strong>OSSL_PARAM</strong> arrays). The
<em>key</em>, <em>type</em>, <em>addr</em> and <em>sz</em> arguments correspond to the <em>key</em>,
<em>data_type</em>, <em>data</em> and <em>data_size</em> fields of the <em>OSSL_PARAM(3)</em> structure as
described on the <em>OSSL_PARAM(3)</em> page.</p>
<p><code>OSSL_PARAM_construct_TYPE()</code> are a series of functions that create <em>OSSL_PARAM(3)</em>
records dynamically.
A parameter with name <em>key</em> is created.
The parameter will use storage pointed to by <em>buf</em> and return size of <em>ret</em>.</p>
<p><code>OSSL_PARAM_construct_BN()</code> is a function that constructs a large integer
<em>OSSL_PARAM(3)</em> structure.
A parameter with name <em>key</em>, storage <em>buf</em>, size <em>bsize</em> and return
size <em>rsize</em> is created.</p>
<p>OSSL_PARAM_construct_utf8_string() is a function that constructs a UTF8
string <em>OSSL_PARAM(3)</em> structure.
A parameter with name <em>key</em>, storage <em>buf</em> and size <em>bsize</em> is created.
If <em>bsize</em> is zero, the string length is determined using <code>strlen(3)</code>.
Generally pass zero for <em>bsize</em> instead of calling <code>strlen(3)</code> yourself.</p>
<p><code>OSSL_PARAM_construct_octet_string()</code> is a function that constructs an OCTET
string <em>OSSL_PARAM(3)</em> structure.
A parameter with name <em>key</em>, storage <em>buf</em> and size <em>bsize</em> is created.</p>
<p>OSSL_PARAM_construct_utf8_ptr() is a function that constructs a UTF8 string
pointer <em>OSSL_PARAM(3)</em> structure.
A parameter with name <em>key</em>, storage pointer <em>*buf</em> and size <em>bsize</em>
is created.</p>
<p><code>OSSL_PARAM_construct_octet_ptr()</code> is a function that constructs an OCTET string
pointer <em>OSSL_PARAM(3)</em> structure.
A parameter with name <em>key</em>, storage pointer <em>*buf</em> and size <em>bsize</em>
is created.</p>
<p><code>OSSL_PARAM_construct_end()</code> is a function that constructs the terminating
<em>OSSL_PARAM(3)</em> structure.</p>
<p><code>OSSL_PARAM_locate()</code> is a function that searches an <em>array</em> of parameters for
the one matching the <em>key</em> name.</p>
<p><code>OSSL_PARAM_locate_const()</code> behaves exactly like <code>OSSL_PARAM_locate()</code> except for
the presence of <em>const</em> for the <em>array</em> argument and its return value.</p>
<p><code>OSSL_PARAM_get_TYPE()</code> retrieves a value of type <strong><em>TYPE</em></strong> from the parameter
<em>p</em>.
The value is copied to the address <em>val</em>.
Type coercion takes place as discussed in the NOTES section.</p>
<p><code>OSSL_PARAM_set_TYPE()</code> stores a value <em>val</em> of type <strong><em>TYPE</em></strong> into the
parameter <em>p</em>.
If the parameter's <em>data</em> field is NULL, then only its <em>return_size</em> field
will be assigned the size the parameter's <em>data</em> buffer should have.
Type coercion takes place as discussed in the NOTES section.</p>
<p><code>OSSL_PARAM_get_BN()</code> retrieves a BIGNUM from the parameter pointed to by <em>p</em>.
The BIGNUM referenced by <em>val</em> is updated and is allocated if <em>*val</em> is
NULL.</p>
<p><code>OSSL_PARAM_set_BN()</code> stores the BIGNUM <em>val</em> into the parameter <em>p</em>.
If the parameter's <em>data</em> field is NULL, then only its <em>return_size</em> field
will be assigned the size the parameter's <em>data</em> buffer should have.</p>
<p>OSSL_PARAM_get_utf8_string() retrieves a UTF8 string from the parameter
pointed to by <em>p</em>.
The string is stored into <em>*val</em> with a size limit of <em>max_len</em>,
which must be large enough to accommodate a terminating NUL byte,
otherwise this function will fail.
If <em>*val</em> is NULL, memory is allocated for the string (including the
terminating  NUL byte) and <em>max_len</em> is ignored.
If memory is allocated by this function, it must be freed by the caller.</p>
<p>OSSL_PARAM_set_utf8_string() sets a UTF8 string from the parameter pointed to
by <em>p</em> to the value referenced by <em>val</em>.
If the parameter's <em>data</em> field isn't NULL, its <em>data_size</em> must indicate
that the buffer is large enough to accommodate the string that <em>val</em> points at,
not including the terminating NUL byte, or this function will fail.
A terminating NUL byte is added only if the parameter's <em>data_size</em> indicates
the buffer is longer than the string length, otherwise the string will not be
NUL terminated.
If the parameter's <em>data</em> field is NULL, then only its <em>return_size</em> field
will be assigned the minimum size the parameter's <em>data</em> buffer should have
to accommodate the string, not including a terminating NUL byte.</p>
<p><code>OSSL_PARAM_get_octet_string()</code> retrieves an OCTET string from the parameter
pointed to by <em>p</em>.
The OCTETs are either stored into <em>*val</em> with a length limit of <em>max_len</em> or,
in the case when <em>*val</em> is NULL, memory is allocated and
<em>max_len</em> is ignored. <em>*used_len</em> is populated with the number of OCTETs
stored. If <em>val</em> is NULL then the OCTETS are not stored, but <em>*used_len</em> is
still populated.
If memory is allocated by this function, it must be freed by the caller.</p>
<p><code>OSSL_PARAM_set_octet_string()</code> sets an OCTET string from the parameter
pointed to by <em>p</em> to the value referenced by <em>val</em>.
If the parameter's <em>data</em> field is NULL, then only its <em>return_size</em> field
will be assigned the size the parameter's <em>data</em> buffer should have.</p>
<p>OSSL_PARAM_get_utf8_ptr() retrieves the UTF8 string pointer from the parameter
referenced by <em>p</em> and stores it in <em>*val</em>.</p>
<p>OSSL_PARAM_set_utf8_ptr() sets the UTF8 string pointer in the parameter
referenced by <em>p</em> to the values <em>val</em>.</p>
<p><code>OSSL_PARAM_get_octet_ptr()</code> retrieves the OCTET string pointer from the parameter
referenced by <em>p</em> and stores it in <em>*val</em>.
The length of the OCTET string is stored in <em>*used_len</em>.</p>
<p><code>OSSL_PARAM_set_octet_ptr()</code> sets the OCTET string pointer in the parameter
referenced by <em>p</em> to the values <em>val</em>.
The length of the OCTET string is provided by <em>used_len</em>.</p>
<p>OSSL_PARAM_get_utf8_string_ptr() retrieves the pointer to a UTF8 string from
the parameter pointed to by <em>p</em>, and stores that pointer in <em>*val</em>.
This is different from OSSL_PARAM_get_utf8_string(), which copies the
string.</p>
<p><code>OSSL_PARAM_get_octet_string_ptr()</code> retrieves the pointer to a octet string
from the parameter pointed to by <em>p</em>, and stores that pointer in <em>*val</em>,
along with the string's length in <em>*used_len</em>.
This is different from <code>OSSL_PARAM_get_octet_string()</code>, which copies the
string.</p>
<p>The OSSL_PARAM_UNMODIFIED macro is used to detect if a parameter was set.  On
creation, via either the macros or construct calls, the <em>return_size</em> field
is set to this.  If the parameter is set using the calls defined herein, the
<em>return_size</em> field is changed.</p>
<p><code>OSSL_PARAM_modified()</code> queries if the parameter <em>param</em> has been set or not
using the calls defined herein.</p>
<p><code>OSSL_PARAM_set_all_unmodified()</code> resets the unused indicator for all parameters
in the array <em>params</em>.</p>
<p>
</p>
<hr />
<h1><a name="return_values">RETURN VALUES</a></h1>
<p><code>OSSL_PARAM_construct_TYPE()</code>, <code>OSSL_PARAM_construct_BN()</code>,
OSSL_PARAM_construct_utf8_string(), <code>OSSL_PARAM_construct_octet_string()</code>,
OSSL_PARAM_construct_utf8_ptr() and <code>OSSL_PARAM_construct_octet_ptr()</code>
return a populated <em>OSSL_PARAM(3)</em> structure.</p>
<p><code>OSSL_PARAM_locate()</code> and <code>OSSL_PARAM_locate_const()</code> return a pointer to
the matching <em>OSSL_PARAM(3)</em> object.  They return NULL on error or when
no object matching <em>key</em> exists in the <em>array</em>.</p>
<p><code>OSSL_PARAM_modified()</code> returns 1 if the parameter was set and 0 otherwise.</p>
<p>All other functions return 1 on success and 0 on failure.</p>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p>Native types will be converted as required only if the value is exactly
representable by the target type or parameter.
Apart from that, the functions must be used appropriately for the
expected type of the parameter.</p>
<p><code>OSSL_PARAM_get_BN()</code> and <code>OSSL_PARAM_set_BN()</code> currently only support
nonnegative <strong>BIGNUM</strong>s, and by consequence, only
<strong>OSSL_PARAM_UNSIGNED_INTEGER</strong>.  <code>OSSL_PARAM_construct_BN()</code> currently
constructs an <em>OSSL_PARAM(3)</em> structure with the data type
<strong>OSSL_PARAM_UNSIGNED_INTEGER</strong>.</p>
<p>For OSSL_PARAM_construct_utf8_ptr() and <code>OSSL_PARAM_consstruct_octet_ptr()</code>,
<em>bsize</em> is not relevant if the purpose is to send the <em>OSSL_PARAM(3)</em> array
to a <em>responder</em>, i.e. to get parameter data back.
In that case, <em>bsize</em> can safely be given zero.
See <em>OSSL_PARAM(3)/DESCRIPTION</em> for further information on the
possible purposes.</p>
<p>
</p>
<hr />
<h1><a name="examples">EXAMPLES</a></h1>
<p>Reusing the examples from <em>OSSL_PARAM(3)</em> to just show how
<em>OSSL_PARAM(3)</em> arrays can be handled using the macros and functions
defined herein.</p>
<p>
</p>
<h2><a name="example_1">Example 1</a></h2>
<p>This example is for setting parameters on some object:</p>
<pre>
    <span class="comment">#include &lt;openssl/core.h&gt;</span>
</pre>
<pre>
    <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*foo</span> <span class="operator">=</span> <span class="string">"some string"</span><span class="operator">;</span>
    <span class="variable">size_t</span> <span class="variable">foo_l</span> <span class="operator">=</span> <span class="variable">strlen</span><span class="operator">(</span><span class="variable">foo</span><span class="operator">);</span>
    <span class="variable">const</span> <span class="variable">char</span> <span class="variable">bar</span><span class="operator">[]</span> <span class="operator">=</span> <span class="string">"some other string"</span><span class="operator">;</span>
    <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">set</span><span class="operator">[]</span> <span class="operator">=</span> <span class="operator">{</span>
        <span class="variable">OSSL_PARAM_utf8_ptr</span><span class="operator">(</span><span class="string">"foo"</span><span class="operator">,</span> <span class="operator">&amp;</span><span class="variable">foo</span><span class="operator">,</span> <span class="variable">foo_l</span><span class="operator">),</span>
        <span class="variable">OSSL_PARAM_utf8_string</span><span class="operator">(</span><span class="string">"bar"</span><span class="operator">,</span> <span class="variable">bar</span><span class="operator">,</span> <span class="variable">sizeof</span><span class="operator">(</span><span class="variable">bar</span><span class="operator">)</span> <span class="operator">-</span> <span class="number">1</span><span class="operator">),</span>
        <span class="variable">OSSL_PARAM_END</span>
    <span class="operator">}</span><span class="operator">;</span>
</pre>
<p>
</p>
<h2><a name="example_2">Example 2</a></h2>
<p>This example is for requesting parameters on some object, and also
demonstrates that the requester isn't obligated to request all
available parameters:</p>
<pre>
    <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*foo</span> <span class="operator">=</span> <span class="variable">NULL</span><span class="operator">;</span>
    <span class="variable">char</span> <span class="variable">bar</span><span class="operator">[</span><span class="number">1024</span><span class="operator">]</span><span class="operator">;</span>
    <span class="variable">OSSL_PARAM</span> <span class="variable">request</span><span class="operator">[]</span> <span class="operator">=</span> <span class="operator">{</span>
        <span class="variable">OSSL_PARAM_utf8_ptr</span><span class="operator">(</span><span class="string">"foo"</span><span class="operator">,</span> <span class="operator">&amp;</span><span class="variable">foo</span><span class="operator">,</span> <span class="number">0</span><span class="operator">),</span>
        <span class="variable">OSSL_PARAM_utf8_string</span><span class="operator">(</span><span class="string">"bar"</span><span class="operator">,</span> <span class="variable">bar</span><span class="operator">,</span> <span class="variable">sizeof</span><span class="operator">(</span><span class="variable">bar</span><span class="operator">)),</span>
        <span class="variable">OSSL_PARAM_END</span>
    <span class="operator">}</span><span class="operator">;</span>
</pre>
<p>A <em>responder</em> that receives this array (as <code>params</code> in this example)
could fill in the parameters like this:</p>
<pre>
    /* OSSL_PARAM *params */</pre>
<pre>
    <span class="variable">OSSL_PARAM</span> <span class="variable">*p</span><span class="operator">;</span>
</pre>
<pre>
    <span class="keyword">if</span> <span class="operator">((</span><span class="variable">p</span> <span class="operator">=</span> <span class="variable">OSSL_PARAM_locate</span><span class="operator">(</span><span class="variable">params</span><span class="operator">,</span> <span class="string">"foo"</span><span class="operator">))</span> <span class="operator">!=</span> <span class="variable">NULL</span><span class="operator">)</span>
        <span class="variable">OSSL_PARAM_set_utf8_ptr</span><span class="operator">(</span><span class="variable">p</span><span class="operator">,</span> <span class="string">"foo value"</span><span class="operator">);</span>
    <span class="keyword">if</span> <span class="operator">((</span><span class="variable">p</span> <span class="operator">=</span> <span class="variable">OSSL_PARAM_locate</span><span class="operator">(</span><span class="variable">params</span><span class="operator">,</span> <span class="string">"bar"</span><span class="operator">))</span> <span class="operator">!=</span> <span class="variable">NULL</span><span class="operator">)</span>
        <span class="variable">OSSL_PARAM_set_utf8_string</span><span class="operator">(</span><span class="variable">p</span><span class="operator">,</span> <span class="string">"bar value"</span><span class="operator">);</span>
    <span class="keyword">if</span> <span class="operator">((</span><span class="variable">p</span> <span class="operator">=</span> <span class="variable">OSSL_PARAM_locate</span><span class="operator">(</span><span class="variable">params</span><span class="operator">,</span> <span class="string">"cookie"</span><span class="operator">))</span> <span class="operator">!=</span> <span class="variable">NULL</span><span class="operator">)</span>
        <span class="variable">OSSL_PARAM_set_utf8_ptr</span><span class="operator">(</span><span class="variable">p</span><span class="operator">,</span> <span class="string">"cookie value"</span><span class="operator">);</span>
</pre>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><em>openssl-core.h(7)</em>, <em>OSSL_PARAM(3)</em></p>
<p>
</p>
<hr />
<h1><a name="history">HISTORY</a></h1>
<p>These APIs were introduced in OpenSSL 3.0.</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright 2019-2023 The OpenSSL Project Authors. All Rights Reserved.</p>
<p>Licensed under the Apache License 2.0 (the &quot;License&quot;).  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file LICENSE in the source distribution or at
<a href="https://www.openssl.org/source/license.html">https://www.openssl.org/source/license.html</a>.</p>

</body>

</html>
