<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>EVP_DigestInit</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#parameters">PARAMETERS</a></li>
	<li><a href="#controls">CONTROLS</a></li>
	<li><a href="#flags">FLAGS</a></li>
	<li><a href="#return_values">RETURN VALUES</a></li>
	<li><a href="#notes">NOTES</a></li>
	<li><a href="#examples">EXAMPLES</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#history">HISTORY</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>EVP_MD_fetch, EVP_MD_up_ref, EVP_MD_free,
EVP_MD_get_params, EVP_MD_gettable_params,
EVP_MD_CTX_new, EVP_MD_CTX_reset, EVP_MD_CTX_free, EVP_MD_CTX_copy,
EVP_MD_CTX_copy_ex, EVP_MD_CTX_ctrl,
EVP_MD_CTX_set_params, EVP_MD_CTX_get_params,
EVP_MD_settable_ctx_params, EVP_MD_gettable_ctx_params,
EVP_MD_CTX_settable_params, EVP_MD_CTX_gettable_params,
EVP_MD_CTX_set_flags, EVP_MD_CTX_clear_flags, EVP_MD_CTX_test_flags,
EVP_Q_digest, EVP_Digest, EVP_DigestInit_ex2, EVP_DigestInit_ex, EVP_DigestInit,
EVP_DigestUpdate, EVP_DigestFinal_ex, EVP_DigestFinalXOF, EVP_DigestFinal,
EVP_MD_is_a, EVP_MD_get0_name, EVP_MD_get0_description,
EVP_MD_names_do_all, EVP_MD_get0_provider, EVP_MD_get_type,
EVP_MD_get_pkey_type, EVP_MD_get_size, EVP_MD_get_block_size, EVP_MD_get_flags,
EVP_MD_CTX_get0_name, EVP_MD_CTX_md, EVP_MD_CTX_get0_md, EVP_MD_CTX_get1_md,
EVP_MD_CTX_get_type, EVP_MD_CTX_get_size, EVP_MD_CTX_get_block_size,
EVP_MD_CTX_get0_md_data, EVP_MD_CTX_update_fn, EVP_MD_CTX_set_update_fn,
EVP_md_null,
EVP_get_digestbyname, EVP_get_digestbynid, EVP_get_digestbyobj,
EVP_MD_CTX_get_pkey_ctx, EVP_MD_CTX_set_pkey_ctx,
EVP_MD_do_all_provided,
EVP_MD_type, EVP_MD_nid, EVP_MD_name, EVP_MD_pkey_type, EVP_MD_size,
EVP_MD_block_size, EVP_MD_flags, EVP_MD_CTX_size, EVP_MD_CTX_block_size,
EVP_MD_CTX_type, EVP_MD_CTX_pkey_ctx, EVP_MD_CTX_md_data
- EVP digest routines</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 <span class="comment">#include &lt;openssl/evp.h&gt;</span>
</pre>
<pre>
 <span class="variable">EVP_MD</span> <span class="variable">*EVP_MD_fetch</span><span class="operator">(</span><span class="variable">OSSL_LIB_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*algorithm</span><span class="operator">,</span>
                      <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*properties</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_up_ref</span><span class="operator">(</span><span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EVP_MD_free</span><span class="operator">(</span><span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_get_params</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*digest</span><span class="operator">,</span> <span class="variable">OSSL_PARAM</span> <span class="variable">params</span><span class="operator">[]</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*EVP_MD_gettable_params</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*digest</span><span class="operator">);</span>
 <span class="variable">EVP_MD_CTX</span> <span class="variable">*EVP_MD_CTX_new</span><span class="operator">(</span><span class="variable">void</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_reset</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EVP_MD_CTX_free</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EVP_MD_CTX_ctrl</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="keyword">int</span> <span class="variable">cmd</span><span class="operator">,</span> <span class="keyword">int</span> <span class="variable">p1</span><span class="operator">,</span> <span class="variable">void</span><span class="operator">*</span> <span class="variable">p2</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_get_params</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">OSSL_PARAM</span> <span class="variable">params</span><span class="operator">[]</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_set_params</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">params</span><span class="operator">[]</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*EVP_MD_settable_ctx_params</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*EVP_MD_gettable_ctx_params</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*EVP_MD_CTX_settable_params</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">*EVP_MD_CTX_gettable_params</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EVP_MD_CTX_set_flags</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="keyword">int</span> <span class="variable">flags</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EVP_MD_CTX_clear_flags</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="keyword">int</span> <span class="variable">flags</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_test_flags</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="keyword">int</span> <span class="variable">flags</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">EVP_Q_digest</span><span class="operator">(</span><span class="variable">OSSL_LIB_CTX</span> <span class="variable">*libctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*name</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*propq</span><span class="operator">,</span>
                  <span class="variable">const</span> <span class="variable">void</span> <span class="variable">*data</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">datalen</span><span class="operator">,</span>
                  <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">*md</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">*mdlen</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_Digest</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">void</span> <span class="variable">*data</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">count</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">*md</span><span class="operator">,</span>
                <span class="variable">unsigned</span> <span class="keyword">int</span> <span class="variable">*size</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*type</span><span class="operator">,</span> <span class="variable">ENGINE</span> <span class="variable">*impl</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_DigestInit_ex2</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*type</span><span class="operator">,</span>
                        <span class="variable">const</span> <span class="variable">OSSL_PARAM</span> <span class="variable">params</span><span class="operator">[]</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_DigestInit_ex</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*type</span><span class="operator">,</span> <span class="variable">ENGINE</span> <span class="variable">*impl</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_DigestUpdate</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">void</span> <span class="variable">*d</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">cnt</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_DigestFinal_ex</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">*md</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="keyword">int</span> <span class="variable">*s</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_DigestFinalXOF</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">*md</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">len</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_copy_ex</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*out</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*in</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">EVP_DigestInit</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*type</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_DigestFinal</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">*md</span><span class="operator">,</span> <span class="variable">unsigned</span> <span class="keyword">int</span> <span class="variable">*s</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_copy</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*out</span><span class="operator">,</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*in</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*EVP_MD_get0_name</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*EVP_MD_get0_description</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_is_a</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">,</span> <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*name</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_names_do_all</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">,</span>
                         <span class="variable">void</span> <span class="operator">(</span><span class="variable">*fn</span><span class="operator">)(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*name</span><span class="operator">,</span> <span class="variable">void</span> <span class="variable">*data</span><span class="operator">),</span>
                         <span class="variable">void</span> <span class="variable">*data</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">OSSL_PROVIDER</span> <span class="variable">*EVP_MD_get0_provider</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_get_type</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_get_pkey_type</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_get_size</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_get_block_size</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
 <span class="variable">unsigned</span> <span class="variable">long</span> <span class="variable">EVP_MD_get_flags</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*EVP_MD_CTX_get0_md</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">EVP_MD</span> <span class="variable">*EVP_MD_CTX_get1_md</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">char</span> <span class="variable">*EVP_MD_CTX_get0_name</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_get_size</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_get_block_size</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="keyword">int</span> <span class="variable">EVP_MD_CTX_get_type</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">*EVP_MD_CTX_get0_md_data</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*EVP_md_null</span><span class="operator">(</span><span class="variable">void</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*EVP_get_digestbyname</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">char</span> <span class="variable">*name</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*EVP_get_digestbynid</span><span class="operator">(</span><span class="keyword">int</span> <span class="variable">type</span><span class="operator">);</span>
 <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*EVP_get_digestbyobj</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">ASN1_OBJECT</span> <span class="variable">*o</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">EVP_PKEY_CTX</span> <span class="variable">*EVP_MD_CTX_get_pkey_ctx</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
 <span class="variable">void</span> <span class="variable">EVP_MD_CTX_set_pkey_ctx</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span> <span class="variable">EVP_PKEY_CTX</span> <span class="variable">*pctx</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">void</span> <span class="variable">EVP_MD_do_all_provided</span><span class="operator">(</span><span class="variable">OSSL_LIB_CTX</span> <span class="variable">*libctx</span><span class="operator">,</span>
                             <span class="variable">void</span> <span class="operator">(</span><span class="variable">*fn</span><span class="operator">)(</span><span class="variable">EVP_MD</span> <span class="variable">*mac</span><span class="operator">,</span> <span class="variable">void</span> <span class="variable">*arg</span><span class="operator">),</span>
                             <span class="variable">void</span> <span class="variable">*arg</span><span class="operator">);</span>
</pre>
<pre>
 <span class="comment">#define EVP_MD_type EVP_MD_get_type</span>
 <span class="comment">#define EVP_MD_nid EVP_MD_get_type</span>
 <span class="comment">#define EVP_MD_name EVP_MD_get0_name</span>
 <span class="comment">#define EVP_MD_pkey_type EVP_MD_get_pkey_type</span>
 <span class="comment">#define EVP_MD_size EVP_MD_get_size</span>
 <span class="comment">#define EVP_MD_block_size EVP_MD_get_block_size</span>
 <span class="comment">#define EVP_MD_flags EVP_MD_get_flags</span>
 <span class="comment">#define EVP_MD_CTX_size EVP_MD_CTX_get_size</span>
 <span class="comment">#define EVP_MD_CTX_block_size EVP_MD_CTX_get_block_size</span>
 <span class="comment">#define EVP_MD_CTX_type EVP_MD_CTX_get_type</span>
 <span class="comment">#define EVP_MD_CTX_pkey_ctx EVP_MD_CTX_get_pkey_ctx</span>
 <span class="comment">#define EVP_MD_CTX_md_data EVP_MD_CTX_get0_md_data</span>
</pre>
<p>The following functions have been deprecated since OpenSSL 3.0, and can be
hidden entirely by defining <strong>OPENSSL_API_COMPAT</strong> with a suitable version value,
see <em>openssl_user_macros(7)</em>:</p>
<pre>
 <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*EVP_MD_CTX_md</span><span class="operator">(</span><span class="variable">const</span> <span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">);</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="operator">(</span><span class="variable">*EVP_MD_CTX_update_fn</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">))(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span>
                                              <span class="variable">const</span> <span class="variable">void</span> <span class="variable">*data</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">count</span><span class="operator">);</span>
</pre>
<pre>
 <span class="variable">void</span> <span class="variable">EVP_MD_CTX_set_update_fn</span><span class="operator">(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span>
                               <span class="keyword">int</span> <span class="operator">(</span><span class="variable">*update</span><span class="operator">)(</span><span class="variable">EVP_MD_CTX</span> <span class="variable">*ctx</span><span class="operator">,</span>
                                             <span class="variable">const</span> <span class="variable">void</span> <span class="variable">*data</span><span class="operator">,</span> <span class="variable">size_t</span> <span class="variable">count</span><span class="operator">));</span>
</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The EVP digest routines are a high-level interface to message digests,
and should be used instead of the digest-specific functions.</p>
<p>The <strong>EVP_MD</strong> type is a structure for digest method implementation.</p>
<dl>
<dt><strong><a name="evp_md_fetch" class="item"><code>EVP_MD_fetch()</code></a></strong></dt>

<dd>
<p>Fetches the digest implementation for the given <em>algorithm</em> from any
provider offering it, within the criteria given by the <em>properties</em>.
See <em>crypto(7)/ALGORITHM FETCHING</em> for further information.</p>
<p>The returned value must eventually be freed with <a href="#evp_md_free"><code>EVP_MD_free()</code></a>.</p>
<p>Fetched <strong>EVP_MD</strong> structures are reference counted.</p>
</dd>
<dt><strong><a name="evp_md_up_ref" class="item"><code>EVP_MD_up_ref()</code></a></strong></dt>

<dd>
<p>Increments the reference count for an <strong>EVP_MD</strong> structure.</p>
</dd>
<dt><strong><a name="evp_md_free" class="item"><code>EVP_MD_free()</code></a></strong></dt>

<dd>
<p>Decrements the reference count for the fetched <strong>EVP_MD</strong> structure.
If the reference count drops to 0 then the structure is freed.</p>
</dd>
<dt><strong><a name="evp_md_ctx_new" class="item"><code>EVP_MD_CTX_new()</code></a></strong></dt>

<dd>
<p>Allocates and returns a digest context.</p>
</dd>
<dt><strong><a name="evp_md_ctx_reset" class="item"><code>EVP_MD_CTX_reset()</code></a></strong></dt>

<dd>
<p>Resets the digest context <em>ctx</em>.  This can be used to reuse an already
existing context.</p>
</dd>
<dt><strong><a name="evp_md_ctx_free" class="item"><code>EVP_MD_CTX_free()</code></a></strong></dt>

<dd>
<p>Cleans up digest context <em>ctx</em> and frees up the space allocated to it.</p>
</dd>
<dt><strong><a name="evp_md_ctx_ctrl" class="item"><code>EVP_MD_CTX_ctrl()</code></a></strong></dt>

<dd>
<p><em>This is a legacy method. EVP_MD_CTX_set_params() and EVP_MD_CTX_get_params()
is the mechanism that should be used to set and get parameters that are used by
providers.</em></p>
<p>Performs digest-specific control actions on context <em>ctx</em>. The control command
is indicated in <em>cmd</em> and any additional arguments in <em>p1</em> and <em>p2</em>.
<a href="#evp_md_ctx_ctrl"><code>EVP_MD_CTX_ctrl()</code></a> must be called after EVP_DigestInit_ex2(). Other restrictions
may apply depending on the control type and digest implementation.</p>
<p>If this function happens to be used with a fetched <strong>EVP_MD</strong>, it will
translate the controls that are known to OpenSSL into <em>OSSL_PARAM(3)</em>
parameters with keys defined by OpenSSL and call <a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a> or
<a href="#evp_md_ctx_set_params"><code>EVP_MD_CTX_set_params()</code></a> as is appropriate for each control command.</p>
<p>See <a href="#controls">CONTROLS</a> below for more information, including what translations are
being done.</p>
</dd>
<dt><strong><a name="evp_md_get_params" class="item"><code>EVP_MD_get_params()</code></a></strong></dt>

<dd>
<p>Retrieves the requested list of <em>params</em> from a MD <em>md</em>.
See <a href="#parameters">PARAMETERS</a> below for more information.</p>
</dd>
<dt><strong><a name="evp_md_ctx_get_params" class="item"><code>EVP_MD_CTX_get_params()</code></a></strong></dt>

<dd>
<p>Retrieves the requested list of <em>params</em> from a MD context <em>ctx</em>.
See <a href="#parameters">PARAMETERS</a> below for more information.</p>
</dd>
<dt><strong><a name="evp_md_ctx_set_params" class="item"><code>EVP_MD_CTX_set_params()</code></a></strong></dt>

<dd>
<p>Sets the list of <em>params</em> into a MD context <em>ctx</em>.
See <a href="#parameters">PARAMETERS</a> below for more information.</p>
</dd>
<dt><strong><a name="evp_md_gettable_params" class="item"><code>EVP_MD_gettable_params()</code></a></strong></dt>

<dd>
<p>Get a constant <em>OSSL_PARAM(3)</em> array that describes the retrievable parameters
that can be used with <a href="#evp_md_get_params"><code>EVP_MD_get_params()</code></a>.</p>
</dd>
<dt><strong><a name="evp_md_gettable_ctx_params" class="item"><code>EVP_MD_gettable_ctx_params()</code>, <code>EVP_MD_CTX_gettable_params()</code></a></strong></dt>

<dd>
<p>Get a constant <em>OSSL_PARAM(3)</em> array that describes the retrievable parameters
that can be used with <a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a>.  <a href="#evp_md_gettable_ctx_params"><code>EVP_MD_gettable_ctx_params()</code></a>
returns the parameters that can be retrieved from the algorithm, whereas
<code>EVP_MD_CTX_gettable_params()</code> returns the parameters that can be retrieved
in the context's current state.</p>
</dd>
<dt><strong><a name="evp_md_settable_ctx_params" class="item"><code>EVP_MD_settable_ctx_params()</code>, <a href="#evp_md_ctx_settable_params"><code>EVP_MD_CTX_settable_params()</code></a></a></strong></dt>

<dd>
<p>Get a constant <em>OSSL_PARAM(3)</em> array that describes the settable parameters
that can be used with <a href="#evp_md_ctx_set_params"><code>EVP_MD_CTX_set_params()</code></a>.  <a href="#evp_md_settable_ctx_params"><code>EVP_MD_settable_ctx_params()</code></a>
returns the parameters that can be set from the algorithm, whereas
<a href="#evp_md_ctx_settable_params"><code>EVP_MD_CTX_settable_params()</code></a> returns the parameters that can be set in the
context's current state.</p>
</dd>
<dt><strong><a name="evp_md_ctx_set_flags" class="item"><code>EVP_MD_CTX_set_flags()</code>, <code>EVP_MD_CTX_clear_flags()</code>, <code>EVP_MD_CTX_test_flags()</code></a></strong></dt>

<dd>
<p>Sets, clears and tests <em>ctx</em> flags.  See <a href="#flags">FLAGS</a> below for more information.</p>
</dd>
<dt><strong><a name="evp_q_digest" class="item"><code>EVP_Q_digest()</code> is a quick one-shot digest function.</a></strong></dt>

<dd>
<p>It hashes <em>datalen</em> bytes of data at <em>data</em> using the digest algorithm
<em>name</em>, which is fetched using the optional <em>libctx</em> and <em>propq</em> parameters.
The digest value is placed in <em>md</em> and its length is written at <em>mdlen</em>
if the pointer is not NULL. At most <strong>EVP_MAX_MD_SIZE</strong> bytes will be written.</p>
</dd>
<dt><strong><a name="evp_digest" class="item"><code>EVP_Digest()</code></a></strong></dt>

<dd>
<p>A wrapper around the Digest Init_ex, Update and Final_ex functions.
Hashes <em>count</em> bytes of data at <em>data</em> using a digest <em>type</em> from ENGINE
<em>impl</em>. The digest value is placed in <em>md</em> and its length is written at <em>size</em>
if the pointer is not NULL. At most <strong>EVP_MAX_MD_SIZE</strong> bytes will be written.
If <em>impl</em> is NULL the default implementation of digest <em>type</em> is used.</p>
</dd>
<dt><strong><a name="evp_digestinit_ex2" class="item">EVP_DigestInit_ex2()</a></strong></dt>

<dd>
<p>Sets up digest context <em>ctx</em> to use a digest <em>type</em>.
<em>type</em> is typically supplied by a function such as EVP_sha1(), or a
value explicitly fetched with <a href="#evp_md_fetch"><code>EVP_MD_fetch()</code></a>.</p>
<p>The parameters <strong>params</strong> are set on the context after initialisation.</p>
<p>The <em>type</em> parameter can be NULL if <em>ctx</em> has been already initialized
with another <a href="#evp_digestinit_ex"><code>EVP_DigestInit_ex()</code></a> call and has not been reset with
<a href="#evp_md_ctx_reset"><code>EVP_MD_CTX_reset()</code></a>.</p>
</dd>
<dt><strong><a name="evp_digestinit_ex" class="item"><code>EVP_DigestInit_ex()</code></a></strong></dt>

<dd>
<p>Sets up digest context <em>ctx</em> to use a digest <em>type</em>.
<em>type</em> is typically supplied by a function such as EVP_sha1(), or a
value explicitly fetched with <a href="#evp_md_fetch"><code>EVP_MD_fetch()</code></a>.</p>
<p>If <em>impl</em> is non-NULL, its implementation of the digest <em>type</em> is used if
there is one, and if not, the default implementation is used.</p>
<p>The <em>type</em> parameter can be NULL if <em>ctx</em> has been already initialized
with another <a href="#evp_digestinit_ex"><code>EVP_DigestInit_ex()</code></a> call and has not been reset with
<a href="#evp_md_ctx_reset"><code>EVP_MD_CTX_reset()</code></a>.</p>
</dd>
<dt><strong><a name="evp_digestupdate" class="item"><code>EVP_DigestUpdate()</code></a></strong></dt>

<dd>
<p>Hashes <em>cnt</em> bytes of data at <em>d</em> into the digest context <em>ctx</em>. This
function can be called several times on the same <em>ctx</em> to hash additional
data.</p>
</dd>
<dt><strong><a name="evp_digestfinal_ex" class="item"><code>EVP_DigestFinal_ex()</code></a></strong></dt>

<dd>
<p>Retrieves the digest value from <em>ctx</em> and places it in <em>md</em>. If the <em>s</em>
parameter is not NULL then the number of bytes of data written (i.e. the
length of the digest) will be written to the integer at <em>s</em>, at most
<strong>EVP_MAX_MD_SIZE</strong> bytes will be written.  After calling <a href="#evp_digestfinal_ex"><code>EVP_DigestFinal_ex()</code></a>
no additional calls to <a href="#evp_digestupdate"><code>EVP_DigestUpdate()</code></a> can be made, but
EVP_DigestInit_ex2() can be called to initialize a new digest operation.</p>
</dd>
<dt><strong><a name="evp_digestfinalxof" class="item"><code>EVP_DigestFinalXOF()</code></a></strong></dt>

<dd>
<p>Interfaces to extendable-output functions, XOFs, such as SHAKE128 and SHAKE256.
It retrieves the digest value from <em>ctx</em> and places it in <em>len</em>-sized <em>md</em>.
After calling this function no additional calls to <a href="#evp_digestupdate"><code>EVP_DigestUpdate()</code></a> can be
made, but EVP_DigestInit_ex2() can be called to initialize a new operation.</p>
</dd>
<dt><strong><a name="evp_md_ctx_copy_ex" class="item"><code>EVP_MD_CTX_copy_ex()</code></a></strong></dt>

<dd>
<p>Can be used to copy the message digest state from <em>in</em> to <em>out</em>. This is
useful if large amounts of data are to be hashed which only differ in the last
few bytes.</p>
</dd>
<dt><strong><a name="evp_digestinit" class="item"><code>EVP_DigestInit()</code></a></strong></dt>

<dd>
<p>Behaves in the same way as EVP_DigestInit_ex2() except it doesn't set any
parameters and calls <a href="#evp_md_ctx_reset"><code>EVP_MD_CTX_reset()</code></a> so it cannot be used with an <em>type</em>
of NULL.</p>
</dd>
<dt><strong><a name="evp_digestfinal" class="item"><code>EVP_DigestFinal()</code></a></strong></dt>

<dd>
<p>Similar to <a href="#evp_digestfinal_ex"><code>EVP_DigestFinal_ex()</code></a> except after computing the digest
the digest context <em>ctx</em> is automatically cleaned up with <a href="#evp_md_ctx_reset"><code>EVP_MD_CTX_reset()</code></a>.</p>
</dd>
<dt><strong><a name="evp_md_ctx_copy" class="item"><code>EVP_MD_CTX_copy()</code></a></strong></dt>

<dd>
<p>Similar to <a href="#evp_md_ctx_copy_ex"><code>EVP_MD_CTX_copy_ex()</code></a> except the destination <em>out</em> does not have to
be initialized.</p>
</dd>
<dt><strong><a name="evp_md_is_a" class="item"><code>EVP_MD_is_a()</code></a></strong></dt>

<dd>
<p>Returns 1 if <em>md</em> is an implementation of an algorithm that's
identifiable with <em>name</em>, otherwise 0.</p>
<p>If <em>md</em> is a legacy digest (it's the return value from the likes of
EVP_sha256() rather than the result of an EVP_MD_fetch()), only cipher
names registered with the default library context (see
<em>OSSL_LIB_CTX(3)</em>) will be considered.</p>
</dd>
<dt><strong><a name="evp_md_get0_name" class="item">EVP_MD_get0_name(),
EVP_MD_CTX_get0_name()</a></strong></dt>

<dd>
<p>Return the name of the given message digest.  For fetched message
digests with multiple names, only one of them is returned; it's
recommended to use <a href="#evp_md_names_do_all"><code>EVP_MD_names_do_all()</code></a> instead.</p>
</dd>
<dt><strong><a name="evp_md_names_do_all" class="item"><code>EVP_MD_names_do_all()</code></a></strong></dt>

<dd>
<p>Traverses all names for the <em>md</em>, and calls <em>fn</em> with each name and
<em>data</em>.  This is only useful with fetched <strong>EVP_MD</strong>s.</p>
</dd>
<dt><strong><a name="evp_md_get0_description" class="item">EVP_MD_get0_description()</a></strong></dt>

<dd>
<p>Returns a description of the digest, meant for display and human consumption.
The description is at the discretion of the digest implementation.</p>
</dd>
<dt><strong><a name="evp_md_get0_provider" class="item">EVP_MD_get0_provider()</a></strong></dt>

<dd>
<p>Returns an <strong>OSSL_PROVIDER</strong> pointer to the provider that implements the given
<strong>EVP_MD</strong>.</p>
</dd>
<dt><strong><a name="evp_md_get_size" class="item"><code>EVP_MD_get_size()</code>,
<code>EVP_MD_CTX_get_size()</code></a></strong></dt>

<dd>
<p>Return the size of the message digest when passed an <strong>EVP_MD</strong> or an
<strong>EVP_MD_CTX</strong> structure, i.e. the size of the hash.</p>
</dd>
<dt><strong><a name="evp_md_get_block_size" class="item"><code>EVP_MD_get_block_size()</code>,
<code>EVP_MD_CTX_get_block_size()</code></a></strong></dt>

<dd>
<p>Return the block size of the message digest when passed an <strong>EVP_MD</strong> or an
<strong>EVP_MD_CTX</strong> structure.</p>
</dd>
<dt><strong><a name="evp_md_get_type" class="item"><code>EVP_MD_get_type()</code>,
<code>EVP_MD_CTX_get_type()</code></a></strong></dt>

<dd>
<p>Return the NID of the OBJECT IDENTIFIER representing the given message digest
when passed an <strong>EVP_MD</strong> structure.  For example, <a href="#evp_md_get_type"><code>EVP_MD_get_type(EVP_sha1())</code></a>
returns <strong>NID_sha1</strong>. This function is normally used when setting ASN1 OIDs.</p>
</dd>
<dt><strong><a name="evp_md_ctx_get0_md_data" class="item">EVP_MD_CTX_get0_md_data()</a></strong></dt>

<dd>
<p>Return the digest method private data for the passed <strong>EVP_MD_CTX</strong>.
The space is allocated by OpenSSL and has the size originally set with
<code>EVP_MD_meth_set_app_datasize()</code>.</p>
</dd>
<dt><strong><a name="evp_md_ctx_get0_md" class="item">EVP_MD_CTX_get0_md(), EVP_MD_CTX_get1_md()</a></strong></dt>

<dd>
<p>EVP_MD_CTX_get0_md() returns
the <strong>EVP_MD</strong> structure corresponding to the passed <strong>EVP_MD_CTX</strong>. This
will be the same <strong>EVP_MD</strong> object originally passed to EVP_DigestInit_ex2() (or
other similar function) when the EVP_MD_CTX was first initialised. Note that
where explicit fetch is in use (see <a href="#evp_md_fetch">EVP_MD_fetch(3)</a>) the value returned from
this function will not have its reference count incremented and therefore it
should not be used after the EVP_MD_CTX is freed.
EVP_MD_CTX_get1_md() is the same except the ownership is passed to the
caller and is from the passed <strong>EVP_MD_CTX</strong>.</p>
</dd>
<dt><strong><a name="evp_md_ctx_set_update_fn" class="item"><code>EVP_MD_CTX_set_update_fn()</code></a></strong></dt>

<dd>
<p>Sets the update function for <em>ctx</em> to <em>update</em>.
This is the function that is called by <a href="#evp_digestupdate"><code>EVP_DigestUpdate()</code></a>. If not set, the
update function from the <strong>EVP_MD</strong> type specified at initialization is used.</p>
</dd>
<dt><strong><a name="evp_md_ctx_update_fn" class="item"><code>EVP_MD_CTX_update_fn()</code></a></strong></dt>

<dd>
<p>Returns the update function for <em>ctx</em>.</p>
</dd>
<dt><strong><a name="evp_md_get_flags" class="item"><code>EVP_MD_get_flags()</code></a></strong></dt>

<dd>
<p>Returns the <em>md</em> flags. Note that these are different from the <strong>EVP_MD_CTX</strong>
ones. See <em>EVP_MD_meth_set_flags(3)</em> for more information.</p>
</dd>
<dt><strong><a name="evp_md_get_pkey_type" class="item"><code>EVP_MD_get_pkey_type()</code></a></strong></dt>

<dd>
<p>Returns the NID of the public key signing algorithm associated with this
digest. For example EVP_sha1() is associated with RSA so this will return
<strong>NID_sha1WithRSAEncryption</strong>. Since digests and signature algorithms are no
longer linked this function is only retained for compatibility reasons.</p>
</dd>
<dt><strong><a name="evp_md_null" class="item"><code>EVP_md_null()</code></a></strong></dt>

<dd>
<p>A &quot;null&quot; message digest that does nothing: i.e. the hash it returns is of zero
length.</p>
</dd>
<dt><strong><a name="evp_get_digestbyname" class="item"><code>EVP_get_digestbyname()</code>,
<code>EVP_get_digestbynid()</code>,
<code>EVP_get_digestbyobj()</code></a></strong></dt>

<dd>
<p>Returns an <strong>EVP_MD</strong> structure when passed a digest name, a digest <strong>NID</strong> or an
<strong>ASN1_OBJECT</strong> structure respectively.</p>
<p>The <a href="#evp_get_digestbyname"><code>EVP_get_digestbyname()</code></a> function is present for backwards compatibility with
OpenSSL prior to version 3 and is different to the <a href="#evp_md_fetch"><code>EVP_MD_fetch()</code></a> function
since it does not attempt to &quot;fetch&quot; an implementation of the cipher.
Additionally, it only knows about digests that are built-in to OpenSSL and have
an associated NID. Similarly <code>EVP_get_digestbynid()</code> and <code>EVP_get_digestbyobj()</code>
also return objects without an associated implementation.</p>
<p>When the digest objects returned by these functions are used (such as in a call
to EVP_DigestInit_ex()) an implementation of the digest will be implicitly
fetched from the loaded providers. This fetch could fail if no suitable
implementation is available. Use <a href="#evp_md_fetch"><code>EVP_MD_fetch()</code></a> instead to explicitly fetch
the algorithm and an associated implementation from a provider.</p>
<p>See <em>crypto(7)/ALGORITHM FETCHING</em> for more information about fetching.</p>
<p>The digest objects returned from these functions do not need to be freed with
<a href="#evp_md_free"><code>EVP_MD_free()</code></a>.</p>
</dd>
<dt><strong><a name="evp_md_ctx_get_pkey_ctx" class="item"><code>EVP_MD_CTX_get_pkey_ctx()</code></a></strong></dt>

<dd>
<p>Returns the <strong>EVP_PKEY_CTX</strong> assigned to <em>ctx</em>. The returned pointer should not
be freed by the caller.</p>
</dd>
<dt><strong><a name="evp_md_ctx_set_pkey_ctx" class="item"><code>EVP_MD_CTX_set_pkey_ctx()</code></a></strong></dt>

<dd>
<p>Assigns an <strong>EVP_PKEY_CTX</strong> to <strong>EVP_MD_CTX</strong>. This is usually used to provide
a customized <strong>EVP_PKEY_CTX</strong> to <em>EVP_DigestSignInit(3)</em> or
<em>EVP_DigestVerifyInit(3)</em>. The <em>pctx</em> passed to this function should be freed
by the caller. A NULL <em>pctx</em> pointer is also allowed to clear the <strong>EVP_PKEY_CTX</strong>
assigned to <em>ctx</em>. In such case, freeing the cleared <strong>EVP_PKEY_CTX</strong> or not
depends on how the <strong>EVP_PKEY_CTX</strong> is created.</p>
</dd>
<dt><strong><a name="evp_md_do_all_provided" class="item"><code>EVP_MD_do_all_provided()</code></a></strong></dt>

<dd>
<p>Traverses all messages digests implemented by all activated providers
in the given library context <em>libctx</em>, and for each of the implementations,
calls the given function <em>fn</em> with the implementation method and the given
<em>arg</em> as argument.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="parameters">PARAMETERS</a></h1>
<p>See <em>OSSL_PARAM(3)</em> for information about passing parameters.</p>
<p><a href="#evp_md_ctx_set_params"><code>EVP_MD_CTX_set_params()</code></a> can be used with the following OSSL_PARAM keys:</p>
<dl>
<dt><strong><a name="xoflen_ossl_digest_param_xoflen_unsigned_integer" class="item">&quot;xoflen&quot; (<strong>OSSL_DIGEST_PARAM_XOFLEN</strong>) &lt;unsigned integer&gt;</a></strong></dt>

<dd>
<p>Sets the digest length for extendable output functions.
It is used by the SHAKE algorithm and should not exceed what can be given
using a <strong>size_t</strong>.</p>
</dd>
<dt><strong><a name="pad_type_ossl_digest_param_pad_type_unsigned_integer" class="item">&quot;pad-type&quot; (<strong>OSSL_DIGEST_PARAM_PAD_TYPE</strong>) &lt;unsigned integer&gt;</a></strong></dt>

<dd>
<p>Sets the padding type.
It is used by the MDC2 algorithm.</p>
</dd>
</dl>
<p><a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a> can be used with the following OSSL_PARAM keys:</p>
<dl>
<dt><strong><a name="micalg_ossl_param_digest_key_micalg_utf8_string" class="item">&quot;micalg&quot; (<strong>OSSL_PARAM_DIGEST_KEY_MICALG</strong>) &lt;UTF8 string&gt;.</a></strong></dt>

<dd>
<p>Gets the digest Message Integrity Check algorithm string. This is used when
creating S/MIME multipart/signed messages, as specified in <a href="http://www.ietf.org/rfc/rfc3851.txt" class="rfc">RFC 3851</a>.
It may be used by external engines or providers.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="controls">CONTROLS</a></h1>
<p><a href="#evp_md_ctx_ctrl"><code>EVP_MD_CTX_ctrl()</code></a> can be used to send the following standard controls:</p>
<dl>
<dt><strong><a name="evp_md_ctrl_micalg" class="item">EVP_MD_CTRL_MICALG</a></strong></dt>

<dd>
<p>Gets the digest Message Integrity Check algorithm string. This is used when
creating S/MIME multipart/signed messages, as specified in <a href="http://www.ietf.org/rfc/rfc3851.txt" class="rfc">RFC 3851</a>.
The string value is written to <em>p2</em>.</p>
<p>When used with a fetched <strong>EVP_MD</strong>, <a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a> gets called with
an <em>OSSL_PARAM(3)</em> item with the key &quot;micalg&quot; (<strong>OSSL_DIGEST_PARAM_MICALG</strong>).</p>
</dd>
<dt><strong><a name="evp_md_ctrl_xof_len" class="item">EVP_MD_CTRL_XOF_LEN</a></strong></dt>

<dd>
<p>This control sets the digest length for extendable output functions to <em>p1</em>.
Sending this control directly should not be necessary, the use of
<a href="#evp_digestfinalxof"><code>EVP_DigestFinalXOF()</code></a> is preferred.
Currently used by SHAKE.</p>
<p>When used with a fetched <strong>EVP_MD</strong>, <a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a> gets called with
an <em>OSSL_PARAM(3)</em> item with the key &quot;xoflen&quot; (<strong>OSSL_DIGEST_PARAM_XOFLEN</strong>).</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="flags">FLAGS</a></h1>
<p><a href="#evp_md_ctx_set_flags"><code>EVP_MD_CTX_set_flags()</code></a>, <code>EVP_MD_CTX_clear_flags()</code> and <code>EVP_MD_CTX_test_flags()</code>
can be used the manipulate and test these <strong>EVP_MD_CTX</strong> flags:</p>
<dl>
<dt><strong><a name="evp_md_ctx_flag_oneshot" class="item">EVP_MD_CTX_FLAG_ONESHOT</a></strong></dt>

<dd>
<p>This flag instructs the digest to optimize for one update only, if possible.</p>
</dd>
<dt><strong><a name="evp_md_ctx_flag_no_init" class="item">EVP_MD_CTX_FLAG_NO_INIT</a></strong></dt>

<dd>
<p>This flag instructs <a href="#evp_digestinit"><code>EVP_DigestInit()</code></a> and similar not to initialise the
implementation specific data.</p>
</dd>
<dt><strong><a name="evp_md_ctx_flag_finalise" class="item">EVP_MD_CTX_FLAG_FINALISE</a></strong></dt>

<dd>
<p>Some functions such as EVP_DigestSign only finalise copies of internal
contexts so additional data can be included after the finalisation call.
This is inefficient if this functionality is not required, and can be
disabled with this flag.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="return_values">RETURN VALUES</a></h1>
<dl>
<dt><strong><code>EVP_MD_fetch()</code></strong></dt>

<dd>
<p>Returns a pointer to a <strong>EVP_MD</strong> for success or NULL for failure.</p>
</dd>
<dt><strong><code>EVP_MD_up_ref()</code></strong></dt>

<dd>
<p>Returns 1 for success or 0 for failure.</p>
</dd>
<dt><strong><code>EVP_Q_digest()</code>,
<a href="#evp_digest"><code>EVP_Digest()</code></a>,
EVP_DigestInit_ex2(),
<a href="#evp_digestinit_ex"><code>EVP_DigestInit_ex()</code></a>,
<a href="#evp_digestinit"><code>EVP_DigestInit()</code></a>,
<a href="#evp_digestupdate"><code>EVP_DigestUpdate()</code></a>,
<a href="#evp_digestfinal_ex"><code>EVP_DigestFinal_ex()</code></a>,
<a href="#evp_digestfinalxof"><code>EVP_DigestFinalXOF()</code></a>, and
<a href="#evp_digestfinal"><code>EVP_DigestFinal()</code></a></strong></dt>

<dd>
<p>return 1 for
success and 0 for failure.</p>
</dd>
<dt><strong><code>EVP_MD_CTX_ctrl()</code></strong></dt>

<dd>
<p>Returns 1 if successful or 0 for failure.</p>
</dd>
<dt><strong><code>EVP_MD_CTX_set_params()</code>,
<a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a></strong></dt>

<dd>
<p>Returns 1 if successful or 0 for failure.</p>
</dd>
<dt><strong><a name="evp_md_ctx_settable_params" class="item"><code>EVP_MD_CTX_settable_params()</code>,
<code>EVP_MD_CTX_gettable_params()</code></a></strong></dt>

<dd>
<p>Return an array of constant <em>OSSL_PARAM(3)</em>s, or NULL if there is none
to get.</p>
</dd>
<dt><strong><code>EVP_MD_CTX_copy_ex()</code></strong></dt>

<dd>
<p>Returns 1 if successful or 0 for failure.</p>
</dd>
<dt><strong><code>EVP_MD_get_type()</code>,
<a href="#evp_md_get_pkey_type"><code>EVP_MD_get_pkey_type()</code></a></strong></dt>

<dd>
<p>Returns the NID of the corresponding OBJECT IDENTIFIER or NID_undef if none
exists.</p>
</dd>
<dt><strong><code>EVP_MD_get_size()</code>,
<a href="#evp_md_get_block_size"><code>EVP_MD_get_block_size()</code></a>,
<code>EVP_MD_CTX_get_size()</code>,
<code>EVP_MD_CTX_get_block_size()</code></strong></dt>

<dd>
<p>Returns the digest or block size in bytes or -1 for failure.</p>
</dd>
<dt><strong><code>EVP_md_null()</code></strong></dt>

<dd>
<p>Returns a pointer to the <strong>EVP_MD</strong> structure of the &quot;null&quot; message digest.</p>
</dd>
<dt><strong><code>EVP_get_digestbyname()</code>,
<code>EVP_get_digestbynid()</code>,
<code>EVP_get_digestbyobj()</code></strong></dt>

<dd>
<p>Returns either an <strong>EVP_MD</strong> structure or NULL if an error occurs.</p>
</dd>
<dt><strong><code>EVP_MD_CTX_set_pkey_ctx()</code></strong></dt>

<dd>
<p>This function has no return value.</p>
</dd>
<dt><strong><code>EVP_MD_names_do_all()</code></strong></dt>

<dd>
<p>Returns 1 if the callback was called for all names. A return value of 0 means
that the callback was not called for any names.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p>The <strong>EVP</strong> interface to message digests should almost always be used in
preference to the low-level interfaces. This is because the code then becomes
transparent to the digest used and much more flexible.</p>
<p>New applications should use the SHA-2 (such as <em>EVP_sha256(3)</em>) or the SHA-3
digest algorithms (such as <em>EVP_sha3_512(3)</em>). The other digest algorithms
are still in common use.</p>
<p>For most applications the <em>impl</em> parameter to <a href="#evp_digestinit_ex"><code>EVP_DigestInit_ex()</code></a> will be
set to NULL to use the default digest implementation.</p>
<p>Ignoring failure returns of <a href="#evp_digestinit_ex"><code>EVP_DigestInit_ex()</code></a>, EVP_DigestInit_ex2(), or
<a href="#evp_digestinit"><code>EVP_DigestInit()</code></a> can lead to undefined behavior on subsequent calls
updating or finalizing the <strong>EVP_MD_CTX</strong> such as the <a href="#evp_digestupdate"><code>EVP_DigestUpdate()</code></a> or
<a href="#evp_digestfinal"><code>EVP_DigestFinal()</code></a> functions. The only valid calls on the <strong>EVP_MD_CTX</strong>
when initialization fails are calls that attempt another initialization of
the context or release the context.</p>
<p>The functions <a href="#evp_digestinit"><code>EVP_DigestInit()</code></a>, <a href="#evp_digestfinal"><code>EVP_DigestFinal()</code></a> and <a href="#evp_md_ctx_copy"><code>EVP_MD_CTX_copy()</code></a> are
obsolete but are retained to maintain compatibility with existing code. New
applications should use <a href="#evp_digestinit_ex"><code>EVP_DigestInit_ex()</code></a>, <a href="#evp_digestfinal_ex"><code>EVP_DigestFinal_ex()</code></a> and
<a href="#evp_md_ctx_copy_ex"><code>EVP_MD_CTX_copy_ex()</code></a> because they can efficiently reuse a digest context
instead of initializing and cleaning it up on each call and allow non default
implementations of digests to be specified.</p>
<p>If digest contexts are not cleaned up after use,
memory leaks will occur.</p>
<p>EVP_MD_CTX_get0_name(), <code>EVP_MD_CTX_get_size()</code>, <code>EVP_MD_CTX_get_block_size()</code>,
<code>EVP_MD_CTX_get_type()</code>, <code>EVP_get_digestbynid()</code> and <code>EVP_get_digestbyobj()</code> are
defined as macros.</p>
<p><a href="#evp_md_ctx_ctrl"><code>EVP_MD_CTX_ctrl()</code></a> sends commands to message digests for additional configuration
or control.</p>
<p>
</p>
<hr />
<h1><a name="examples">EXAMPLES</a></h1>
<p>This example digests the data &quot;Test Message\n&quot; and &quot;Hello World\n&quot;, using the
digest name passed on the command line.</p>
<pre>
 <span class="comment">#include &lt;stdio.h&gt;</span>
 <span class="comment">#include &lt;string.h&gt;</span>
 <span class="comment">#include &lt;openssl/evp.h&gt;</span>
</pre>
<pre>
 <span class="keyword">int</span> <span class="variable">main</span><span class="operator">(</span><span class="keyword">int</span> <span class="variable">argc</span><span class="operator">,</span> <span class="variable">char</span> <span class="variable">*argv</span><span class="operator">[]</span><span class="operator">)</span>
 <span class="operator">{</span>
     <span class="variable">EVP_MD_CTX</span> <span class="variable">*mdctx</span><span class="operator">;</span>
     <span class="variable">const</span> <span class="variable">EVP_MD</span> <span class="variable">*md</span><span class="operator">;</span>
     <span class="variable">char</span> <span class="variable">mess1</span><span class="operator">[]</span> <span class="operator">=</span> <span class="string">"Test Message\n"</span><span class="operator">;</span>
     <span class="variable">char</span> <span class="variable">mess2</span><span class="operator">[]</span> <span class="operator">=</span> <span class="string">"Hello World\n"</span><span class="operator">;</span>
     <span class="variable">unsigned</span> <span class="variable">char</span> <span class="variable">md_value</span><span class="operator">[</span><span class="variable">EVP_MAX_MD_SIZE</span><span class="operator">]</span><span class="operator">;</span>
     <span class="variable">unsigned</span> <span class="keyword">int</span> <span class="variable">md_len</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">;</span>
</pre>
<pre>
     <span class="keyword">if</span> <span class="operator">(</span><span class="variable">argv</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span> <span class="operator">==</span> <span class="variable">NULL</span><span class="operator">)</span> <span class="operator">{</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Usage: mdtest digestname\n"</span><span class="operator">);</span>
         <span class="keyword">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
     <span class="operator">}</span>
</pre>
<pre>
     <span class="variable">md</span> <span class="operator">=</span> <span class="variable">EVP_get_digestbyname</span><span class="operator">(</span><span class="variable">argv</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">);</span>
     <span class="keyword">if</span> <span class="operator">(</span><span class="variable">md</span> <span class="operator">==</span> <span class="variable">NULL</span><span class="operator">)</span> <span class="operator">{</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Unknown message digest %s\n"</span><span class="operator">,</span> <span class="variable">argv</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">);</span>
         <span class="keyword">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
     <span class="operator">}</span>
</pre>
<pre>
     <span class="variable">mdctx</span> <span class="operator">=</span> <span class="variable">EVP_MD_CTX_new</span><span class="operator">();</span>
     <span class="keyword">if</span> <span class="operator">(!</span><span class="variable">EVP_DigestInit_ex2</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">,</span> <span class="variable">md</span><span class="operator">,</span> <span class="variable">NULL</span><span class="operator">))</span> <span class="operator">{</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Message digest initialization failed.\n"</span><span class="operator">);</span>
         <span class="variable">EVP_MD_CTX_free</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">);</span>
         <span class="keyword">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
     <span class="operator">}</span>
     <span class="keyword">if</span> <span class="operator">(!</span><span class="variable">EVP_DigestUpdate</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">,</span> <span class="variable">mess1</span><span class="operator">,</span> <span class="variable">strlen</span><span class="operator">(</span><span class="variable">mess1</span><span class="operator">)))</span> <span class="operator">{</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Message digest update failed.\n"</span><span class="operator">);</span>
         <span class="variable">EVP_MD_CTX_free</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">);</span>
         <span class="keyword">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
     <span class="operator">}</span>
     <span class="keyword">if</span> <span class="operator">(!</span><span class="variable">EVP_DigestUpdate</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">,</span> <span class="variable">mess2</span><span class="operator">,</span> <span class="variable">strlen</span><span class="operator">(</span><span class="variable">mess2</span><span class="operator">)))</span> <span class="operator">{</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Message digest update failed.\n"</span><span class="operator">);</span>
         <span class="variable">EVP_MD_CTX_free</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">);</span>
         <span class="keyword">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
     <span class="operator">}</span>
     <span class="keyword">if</span> <span class="operator">(!</span><span class="variable">EVP_DigestFinal_ex</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">,</span> <span class="variable">md_value</span><span class="operator">,</span> <span class="operator">&amp;</span><span class="variable">md_len</span><span class="operator">))</span> <span class="operator">{</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Message digest finalization failed.\n"</span><span class="operator">);</span>
         <span class="variable">EVP_MD_CTX_free</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">);</span>
         <span class="keyword">exit</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
     <span class="operator">}</span>
     <span class="variable">EVP_MD_CTX_free</span><span class="operator">(</span><span class="variable">mdctx</span><span class="operator">);</span>
</pre>
<pre>
     <span class="keyword">printf</span><span class="operator">(</span><span class="string">"Digest is: "</span><span class="operator">);</span>
     <span class="keyword">for</span> <span class="operator">(</span><span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span> <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">md_len</span><span class="operator">;</span> <span class="variable">i</span><span class="operator">++)</span>
         <span class="keyword">printf</span><span class="operator">(</span><span class="string">"%02x"</span><span class="operator">,</span> <span class="variable">md_value</span><span class="operator">[</span><span class="variable">i</span><span class="operator">]</span><span class="operator">);</span>
     <span class="keyword">printf</span><span class="operator">(</span><span class="string">"\n"</span><span class="operator">);</span>
</pre>
<pre>
     <span class="keyword">exit</span><span class="operator">(</span><span class="number">0</span><span class="operator">);</span>
      <span class="operator">}</span>
</pre>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><em>EVP_MD_meth_new(3)</em>,
<em>openssl-dgst(1)</em>,
<em>evp(7)</em>,
<em>OSSL_PROVIDER(3)</em>,
<em>OSSL_PARAM(3)</em>,
<em>property(7)</em>,
<em>crypto(7)/ALGORITHM FETCHING</em>,
<em>provider-digest(7)</em>,
<em>life_cycle-digest(7)</em></p>
<p>The full list of digest algorithms are provided below.</p>
<p><em>EVP_blake2b512(3)</em>,
<em>EVP_md2(3)</em>,
<em>EVP_md4(3)</em>,
<em>EVP_md5(3)</em>,
<em>EVP_mdc2(3)</em>,
<em>EVP_ripemd160(3)</em>,
<em>EVP_sha1(3)</em>,
<em>EVP_sha224(3)</em>,
<em>EVP_sha3_224(3)</em>,
<em>EVP_sm3(3)</em>,
<em>EVP_whirlpool(3)</em></p>
<p>
</p>
<hr />
<h1><a name="history">HISTORY</a></h1>
<p>The <code>EVP_MD_CTX_create()</code> and <code>EVP_MD_CTX_destroy()</code> functions were renamed to
<a href="#evp_md_ctx_new"><code>EVP_MD_CTX_new()</code></a> and <a href="#evp_md_ctx_free"><code>EVP_MD_CTX_free()</code></a> in OpenSSL 1.1.0, respectively.</p>
<p>The link between digests and signing algorithms was fixed in OpenSSL 1.0 and
later, so now EVP_sha1() can be used with RSA and DSA.</p>
<p>The EVP_dss1() function was removed in OpenSSL 1.1.0.</p>
<p>The <a href="#evp_md_ctx_set_pkey_ctx"><code>EVP_MD_CTX_set_pkey_ctx()</code></a> function was added in OpenSSL 1.1.1.</p>
<p>The <a href="#evp_q_digest"><code>EVP_Q_digest()</code></a>, EVP_DigestInit_ex2(),
<a href="#evp_md_fetch"><code>EVP_MD_fetch()</code></a>, <a href="#evp_md_free"><code>EVP_MD_free()</code></a>, <a href="#evp_md_up_ref"><code>EVP_MD_up_ref()</code></a>,
<a href="#evp_md_get_params"><code>EVP_MD_get_params()</code></a>, <a href="#evp_md_ctx_set_params"><code>EVP_MD_CTX_set_params()</code></a>, <a href="#evp_md_ctx_get_params"><code>EVP_MD_CTX_get_params()</code></a>,
<a href="#evp_md_gettable_params"><code>EVP_MD_gettable_params()</code></a>, <a href="#evp_md_gettable_ctx_params"><code>EVP_MD_gettable_ctx_params()</code></a>,
<a href="#evp_md_settable_ctx_params"><code>EVP_MD_settable_ctx_params()</code></a>, <a href="#evp_md_ctx_settable_params"><code>EVP_MD_CTX_settable_params()</code></a> and
<code>EVP_MD_CTX_gettable_params()</code> functions were added in OpenSSL 3.0.</p>
<p>The <code>EVP_MD_type()</code>, <code>EVP_MD_nid()</code>, <code>EVP_MD_name()</code>, <code>EVP_MD_pkey_type()</code>,
<code>EVP_MD_size()</code>, <code>EVP_MD_block_size()</code>, <code>EVP_MD_flags()</code>, <code>EVP_MD_CTX_size()</code>,
<code>EVP_MD_CTX_block_size()</code>, <code>EVP_MD_CTX_type()</code>, and <code>EVP_MD_CTX_md_data()</code>
functions were renamed to include <code>get</code> or <code>get0</code> in their names in
OpenSSL 3.0, respectively. The old names are kept as non-deprecated
alias macros.</p>
<p>The <code>EVP_MD_CTX_md()</code> function was deprecated in OpenSSL 3.0; use
EVP_MD_CTX_get0_md() instead.
<a href="#evp_md_ctx_update_fn"><code>EVP_MD_CTX_update_fn()</code></a> and <a href="#evp_md_ctx_set_update_fn"><code>EVP_MD_CTX_set_update_fn()</code></a> were deprecated
in OpenSSL 3.0.</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright 2000-2023 The OpenSSL Project Authors. All Rights Reserved.</p>
<p>Licensed under the Apache License 2.0 (the &quot;License&quot;).  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file LICENSE in the source distribution or at
<a href="https://www.openssl.org/source/license.html">https://www.openssl.org/source/license.html</a>.</p>

</body>

</html>
